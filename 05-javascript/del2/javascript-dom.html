<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>JavaScript & DOM - Kurs i grensesnittsprogrammering</title>
    <link href='http://fonts.googleapis.com/css?famil=Inconsolata' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../../remark/remark-bekk.css">
    <style type="text/css" media="screen">


    </style>
  </head>
  <body>
    <textarea id="source">

layout: false
class: front-page

# Javascript & DOM

---

# Legge til tekst

    <html>



        <body>
            <h1>This is HTML</h1>
        </body>
    </html>

---

# Legge til tekst

    <html>
        <head>
            <script src="addText.js"></script>
        </head>
        <body>
            <h1>This is HTML</h1>
        </body>
    </html>

addText.js:

    document.body.appendChild( document.createTextNode( 'Hello World!' ) );

---

# Legge til tekst

    <html>
        <head>
            <script src="addText.js"></script>
        </head>
        <body>
            <h1>This is HTML</h1>
        </body>
    </html>

addText.js:

    document.body.appendChild( document.createTextNode( 'Hello World!' ) );

Ny HTML etter at siden er lastet:

    <html>
        <head>
            <script src="addText.js"></script>
        </head>
        <body>
            <h1>This is HTML</h1>
            Hello World!
        </body>
    </html>

---

class: middle 
`getElementsByTagName`

`getElementsByClassName`

`getElementById`

---

class: middle 
`getElementsByTagName` &mdash; `.html <h1>Overskrift</h1>`

`getElementsByClassName` &mdash; `.html <div class="user">…</div>`

`getElementById` &mdash; `.html <div id="nav">…</div>`

---

# Endre tekst

    <html>



        <body>
            <h1>This is HTML</h1>
        </body>
    </html>

---

# Endre tekst

    <html>
        <head>
            <script src="changeText.js"></script>
        </head>
        <body>
            <h1>This is HTML</h1>
        </body>
    </html>

changeText.js:

    var headers = document.getElementsByTagName("h1");
    var header = headers[0];

    header.textContent = "Ny tittel!";

---

# Endre tekst

    <html>
        <head>
            <script src="changeText.js"></script>
        </head>
        <body>
            <h1>This is HTML</h1>
        </body>
    </html>

changeText.js:

    var headers = document.getElementsByTagName("h1");
    var header = headers[0];

    header.textContent = "Ny tittel!";

Ny HTML etter at siden er lastet:

    <html>
        <head>
            <script src="changeText.js"></script>
        </head>
        <body>
            <h1>Ny tittel!</h1>
        </body>
    </html>

---

# Lytte på klikk

    var headers = document.getElementsByTagName("h1");
    var header = headers[0];

    header.addEventListener("click", function() {
        header.textContent = header.textContent + "!";
    });

[http://jsbin.com/uqawuq/1/edit](http://jsbin.com/uqawuq/1/edit)

Vi kan blant annet lytte på:

* dblclick
* keyup
* mousedown
* resize
* scroll
* touchstart

---

# Endre design

    var list = document.getElementsByClassName("technologies");
    list[0].style.color = "red";

[http://jsbin.com/icalon/2/edit](http://jsbin.com/icalon/2/edit)

---

class: middle center

Stress å skrive `getElementsByClassName`, `getElementsByTagName` og
`getElementById` hele tiden.

![sleepy](../../img/sleepy.gif)

---

class: fullscreen

![jQuery](../../img/jquery_logo.png)

---

# jQuery

Endre tekst


    // JS
    var headings = document.getElementsByTagName("h1");
    for(i = 0; i < headings.length; i++) {
        headings[i].textContent = "Ny tittel!";
    }

    // jQuery 
    $("h1").text("Ny tittel!")

---

# jQuery

Lytte på klikk


    // JS
    var headings = document.getElementsByTagName("h1");
    for(i = 0; i < headings.length; i++) {
        headings[i].addEventListener("click", function() {
            header.textContent = header.textContent + "!";
        });
    }

    // jQuery
    $("h1").click(function() {
      var header = $(this);
      header.text(header.text() + "!");
    });    

---

# jQuery

Endre CSS
 

    // Javascript
    var technologies = document.getElementsByClassName("technologies");
    for(i = 0; i < technologies.length; i++) {
        technologies[i].style.color = "red";
    }

    // jQuery
    $(".technologies").css("color", "red");

---

# jQuery Cheat Sheet


    var element = $(selektor); // lagre referanse til DOM-element
--

???
Dette bør heller demonstreres i JSBIN!

    $(selektor).next(); // hente neste element i DOM-treet
--
    $(selektor).is('type'); // returnerer true om elementer er av gitt type
--
    $(selektor).parent(); // returnerer forelderen til elementet
--
    $(selektor).find(selektor); // utfører søk innenfor elementets barn

--
    $(selektor).addClass('myClass'); // legge til klasse
--
    $(selektor).removeClass('myClass'); // fjerne klasse
--
    $(selektor).toggleClass('myClass'); // toggle

--
    $(selektor).show(); // vise element
--
    $(selektor).hide(); // skjule element
--
    $(selektor).toggle(); // vise/skjule element

--
    $(selektor).fadeIn(); // vise med delay
--
    $(selektor).fadeOut(); // skjule med delay

---

# jQuery Cheat Sheet 

    setTimeout(myFunction, delay); //kaller myFunction() hvert &lt;delay&gt; ms

--
    $(selektor).remove();   // fjerner elementet fra DOM-en

--
    $(selektor).append(element); // legger til i DOM-en


--
    $(selektor).on("click", function() { doSomething() }); // Lytte til events


--
    $(selektor).height(); // Finne høyden på element

--
    $(selektor).width(); // Finne bredden på element

    $(document).ready(function() { doSomething(); }); 
      // Kjøre kode når siden er ferdig lastet

    console.log("Hello World!"); // Skrive til konsollet


---

# Først litt oppvarming

- Fjern handlelisten: http://jsbin.com/oketic/5/edit
- Legg til .checked: http://jsbin.com/ijodut/1/edit
- Legg til .checked på noen: http://jsbin.com/apahoq/4/edit
- Legg til .checked på 1-5 med 1 sekunds mellomrom: http://jsbin.com/akacaj/3/edit
- Fjern .checked fra bananer: http://jsbin.com/ahozeb/2/edit
- Fade ut notatet om kvittering m.m.: http://jsbin.com/abewac/5/edit


---

# Oppgave
  
  ## Bruk alt du har lært til nå til å lage et slide-show

  ## 05-javascript/del2/oppgave/

  Se neste slide for detaljert anvisning!

  Dette løses ved å ha mange img-elementer liggende i DOM-en og kun ha ett av disse synlig om gangen. Ved å vise dem i rekkefølge med en timer får vi en slideshow-effekt.

---

# Oppgave
  
  ## 1) Lag et bildegalleri, explained

  ## 05-javascript/del2/oppgave/

  * Lag en funksjon som kaller seg selv hvert 5. sekund vha setTimeout
  * Finn bildet som er synlig for øyeblikket og lagre en referanse til det
  * Finn det neste bildet i rekken
  * Skjul det forrige og vis det nye
  * Hvis det ikke finnes flere bilder, gå tilbake til det første (bruk :first)
  * Bruk fadeIn() for å vise

---

# Oppgave
  
  ## 2) Hvis tid: bytte bilde ved hjelp av knappene

  * Lag metoder for å bytte til neste/forrige bilde umiddelbart
  * Reset timer vha clearTimeout (google it!)
  * Kall metodene dine ved 'click'-events på knappene
  * Restart timeren
  * WIN!

---

    </textarea>
    <script src="http://gnab.github.com/remark/downloads/remark-0.5.3.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var hljs = remark.highlighter.engine;
    </script>
    <script src="js/remark.language.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var slideshow = remark.create({
          highlightStyle: 'solarized_light',
          highlightLanguage: 'remark'
        }) ;
      var a = [];
      slideshow.addListener("slidein",function(b,c){if(a.indexOf(c)>-1)return;var d=$(b);d.find("p:empty").remove(),d.find(".front-page").length===0&&d.find("h1").wrapInner("<span>"),d.find(".pushed img").parent().wrapInner("<span class='img'>"),a.push(c)})
    </script>
  </body>
</html>
