<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>jQuery Events</title>
    <link href='http://fonts.googleapis.com/css?famil=Inconsolata' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../../remark/remark-bekk.css">
    <style type="text/css" media="screen">


    </style>
  </head>
  <body>
    <textarea id="source">

layout: false
class: front-page

# jQuery Events

---

# jQuery Events

## What events?

---

# jQuery Events

## What events?

An event where a users interacts with the browser and handels the effects of that interaction.

---

# jQuery Events

## What events?

An event where a users interacts with the browser and handels the effects of that interaction.

    .change()   .click()    .dbclick()  .error()

    .focus()    .focusout() .hover()    .keydown()

    .keypress() .keyup()    .load()     .mousedown()

    .ready()    .select()   .submit()   ...


<ul>
    <li>http://api.jquery.com/category/events </li>
</ul>

---

# jQuery Events

## What events?

An event where a users interacts with the browser and handels the effects of that interaction.

    .change()   .click()    .dbclick()  .error()

    .focus()    .focusout() .hover()    .keydown()

    .keypress() .keyup()    .load()     .mousedown()

    .ready()    .select()   .submit()   ...


<ul>
    <li>http://api.jquery.com/category/events </li>
</ul>

GOTCHA:
The jQuery Event API, documents various methods such as .bind(). It however states that as of jQuery 1.7, several of these methods should be replaced by other methods I will discuss. ie. bind() with .on(). 

---

# Ready / Load

    .load()     
    .ready()

Document Ready:

    <html>
        <head>
            <script>
                $(document).ready(function(){
                    
                    ... DO SOMETHING.

                });
            </script>
        </head>
        <body>
            ...
        </body>
    </html>

---

# Ready / Load

    .load()     
    .ready()

Document Ready:

    <html>
        <head>
            <script>
                $(document).ready(function(){
                    
                    ... DO SOMETHING.

                });
            </script>
        </head>
        <body>
            ...
        </body>
    </html>


<ul>
    <li>.load() - triggered when a page is fully rendered.</li>
    <li>.ready() - triggered after the DOM is ready.</li>
</ul>

---

# on

    .on( events [, selector ] [, data ], handler(eventObject) )

<ul>
    <li>Events: One or more events, "click", "hover", ...</li>
    <li>Selector: Decendant of the selected element (Optional)</li>
    <li>Data: Data to pass to the handler in event.data. (Optional)</li>
    <li>Handler: A function to execute when the event is triggered.</li>
</ul>

---

# on

    .on( events [, selector ] [, data ], handler(eventObject) )

<ul>
    <li>Events: One or more events, "click", "hover", ...</li>
    <li>Selector: Decendant of the selected element (Optional)</li>
    <li>Data: Data to pass to the handler in event.data. (Optional)</li>
    <li>Handler: A function to execute when the event is triggered.</li>
</ul>

    $("nav").on("click", "a", function(){
        ... DO SOMETHING
    });

---

# on

    .on( events [, selector ] [, data ], handler(eventObject) )

<ul>
    <li>Events: One or more events, "click", "hover", ...</li>
    <li>Selector: Decendant of the selected element (Optional)</li>
    <li>Data: Data to pass to the handler in event.data. (Optional)</li>
    <li>Handler: A function to execute when the event is triggered.</li>
</ul>

    $("nav").on("click", "a", function(){
        ... DO SOMETHING
    });

.click() is a shortcut for .on("click", ...

    $("nav a").click(function(){
        ... DO SOMETHING.
    });

---

# On or Short-cuts

    $("ul.myList").on("click, hover", "li", "On Click Event", function(event){
        alert(event.data);
    });

    $("ul.myList li").click(function(){
        alert("Click Event");
    });

.on() advantages over event short-cuts .click(), .hover(), ...
<ul>
    <li>Can offer better performance</li>
    <li>Multiple events</li>
    <li>Send data into handeler function</li>
</ul>

---

# ON or SHORT-CUTS

    <html>
        <head>
            <script src="../jquery.min.js"></script>
            <script>
                ...
            </script>
        </head>
        <body>
            
            <h1>jQuery Event</h1>

            <ul class="myList">
                <li>myList List Item</li>
            </ul> 
            
            <ul class="myOtherList">
                <li>myOtherList List Item</li>
            </ul>   

        </body>
    </html>

---

# ON or SHORT-CUTS

    <html>
        <head>
            <script src="../jquery.min.js"></script>
            <script>
                $(document).ready(function(){

                    $("ul.myList").on("click", "li", function(){
                        
                        $(this).parent().append("<li>myList Another List Item</li>");

                    });

                    $("ul.myOtherList li").click( function(){

                        $(this).parent().append("<li>myOtherList Another List Item</li>");

                    });

                });
            </script>
        </head>
        <body>
            ...
        </body>
    </html>

---

# On or SHORT-CUTS

<br />
"myList Another List Item", has the on click event bound to it.

    <ul class="myList">
        <li>myList List Item</li>
        <li>myList Another List Item</li>
    </ul> 

<br /><br />
"myOtherList Another List Item", does not have the click event bound to it. Clicking the list item would not call the function to add a list item.
    
    <ul class="myOtherList">
        <li>myOtherList List Item</li>
        <li>myOtherList Another List Item</li>
    </ul>   

---

# OFF

To remove an event handlers:

    .off( events [, selector ] [, handler(eventObject) ] )

---

# OFF

To remove an event handlers:

    .off( events [, selector ] [, handler(eventObject) ] )

<br />

Remove all events bound to "ul.myList".

    $("ul.myList").off();

<br />

Remove the "click" event, bound to "ul.myList".

    $("ul.myList").off("click");

---

# ONE

Trigger the event handler only once.

    .one( events [, data ], handler(eventObject) )

---

# ONE

Fire the event handler only once.

    .one( events [, data ], handler(eventObject) )

<br />

    $("#foo").one("click", function(){

        ... DO SOMETHING ONLY ONCE

    }); 

---

# ONE

Fire the event handler only once.

    .one( events [, data ], handler(eventObject) )

<br />

    $("#foo").one("click", function(){

        ... DO SOMETHING ONLY ONCE

    }); 

Using .one() is the same as:

       $("#foo").on("click", function(event){

            ... DO SOMETHING ONLY ONCE

            $(this).off(event);

        });

---

# Trigger an Event

Events bound with .on() or a shortcut method, can be triggered manually with the .trigger()  or .triggerHandler().

---

# Trigger an Event

Events bound with .on() or a shortcut method, can be triggered manually with the .trigger()  or .triggerHandler().

Event Bound:

    $('#foo').on('click', function() {
      alert($(this).text());
    });

---

# Trigger an Event

Events bound with .on() or a shortcut method, can be triggered manually with the .trigger()  or .triggerHandler().

Event Bound:

    $('#foo').on('click', function() {
      alert($(this).text());
    });


.trigger():
    
    $('#foo').trigger('click');    

---

# Trigger an Event

Events bound with .on() or a shortcut method, can be triggered manually with the .trigger()  or .triggerHandler().

Event Bound:

    $('#foo').on('click', function() {
      alert($(this).text());
    });


.trigger():
    
    $('#foo').trigger('click');    


.triggerHandler():
    
    $('#foo').triggerHandler('click');  

---

# Trigger an Event

Events bound with .on() or a shortcut method, can be triggered manually with the .trigger()  or .triggerHandler().

Event Bound:

    $('#foo').on('click', function() {
      alert($(this).text());
    });


.trigger():
    
    $('#foo').trigger('click');    


.triggerHandler():
    
    $('#foo').triggerHandler('click');  

The same but different.

---

# Trigger / TriggerHandler

The .triggerHandler() method behaves similarly to .trigger(), with the following exceptions:

---

# Trigger / TriggerHandler

The .triggerHandler() method behaves similarly to .trigger(), with the following exceptions:

<ul>
    <li>The .triggerHandler() method does not cause the default behavior of an event to occur (such as a form submission, .submit()).</li>
</ul>

---

# Trigger / TriggerHandler

The .triggerHandler() method behaves similarly to .trigger(), with the following exceptions:

<ul>
    <li>The .triggerHandler() method does not cause the default behavior of an event to occur (such as a form submission, .submit()).</li>
</ul>

<br />
    
    $("input").focus(function(){
    
        $(this).css("border", "1px solid red");

    });

---

# Trigger / TriggerHandler

The .triggerHandler() method behaves similarly to .trigger(), with the following exceptions:

<ul>
    <li>The .triggerHandler() method does not cause the default behavior of an event to occur (such as a form submission, .submit()).</li>
</ul>
    
<br />

    $("input").focus(function(){
    
        $(this).css("border", "1px solid red");

    });

<br />

    $("input").trigger("focus");

---

# Trigger / TriggerHandler

The .triggerHandler() method behaves similarly to .trigger(), with the following exceptions:

<ul>
    <li>The .triggerHandler() method does not cause the default behavior of an event to occur (such as a form submission, .submit()).</li>
</ul>
    
<br />

    $("input").focus(function(){
    
        $(this).css("border", "1px solid red");

    });

<br />

    $("input").trigger("focus");

<br />

    $("input").triggerHandler("focus");

---

# Trigger / TriggerHandler

<ul>    
    <li>While .trigger() will operate on all elements matched by the jQuery object, .triggerHandler() only affects the first matched element.</li>
</ul>

---

# Trigger / TriggerHandler

<ul>    
    <li>While .trigger() will operate on all elements matched by the jQuery object, .triggerHandler() only affects the first matched element.</li>
</ul>

<br />

    $(".foo").on("click", function(event){
        
        $(this).css({"color" : "red"});

    });

---

# Trigger / TriggerHandler

<ul>    
    <li>While .trigger() will operate on all elements matched by the jQuery object, .triggerHandler() only affects the first matched element.</li>
</ul>

<br />

    $(".foo").on("click", function(event){
        
        $(this).css({"color" : "red"});

    });

<br />

    $(".foo").trigger("click");

---

# Trigger / TriggerHandler

<ul>    
    <li>While .trigger() will operate on all elements matched by the jQuery object, .triggerHandler() only affects the first matched element.</li>
</ul>

<br />

    $(".foo").on("click", function(event){
        
        $(this).css({"color" : "red"});

    });

<br />

    $(".foo").trigger("click");

<br />

    $(".foo").triggerHandler("click");

---

# Trigger / TriggerHandler
    
<ul>    
    <li>Events created with .triggerHandler() do not bubble up the DOM hierarchy; if they are not handled by the target element directly, they do nothing.</li>
</ul>

---

# Trigger / TriggerHandler
    
<ul>    
    <li>Events created with .triggerHandler() do not bubble up the DOM hierarchy; if they are not handled by the target element directly, they do nothing.</li>
</ul>

    <div id="parent">
        <div id="child"></div>
    </div>

---

# Trigger / TriggerHandler
    
<ul>    
    <li>Events created with .triggerHandler() do not bubble up the DOM hierarchy; if they are not handled by the target element directly, they do nothing.</li>
</ul>

    <div id="parent">
        <div id="child"></div>
    </div>

<br />

    $("#child").on("click", function(event){
        $(this).css({"background-color" : "pink"});
    });

    $("#parent").on("click", function(event){
        $(this).css({"border" : "1px solid red"});
    });
    
---

# Trigger / TriggerHandler
    
<ul>    
    <li>Events created with .triggerHandler() do not bubble up the DOM hierarchy; if they are not handled by the target element directly, they do nothing.</li>
</ul>

    <div id="parent">
        <div id="child"></div>
    </div>

<br />

    $("#child").on("click", function(event){
        $(this).css({"background-color" : "pink"});
    });

    $("#parent").on("click", function(event){
        $(this).css({"border" : "1px solid red"});
    });

<br />

    $("#child").triggerHandler("click");
    
---

# Trigger / TriggerHandler
<ul>    
    <li>Instead of returning the jQuery object (to allow chaining), .triggerHandler() returns whatever value was returned by the last handler it caused to be executed. If no handlers are triggered, it returns undefined</li>
</ul>

---

# Trigger / TriggerHandler
<ul>    
    <li>Instead of returning the jQuery object (to allow chaining), .triggerHandler() returns whatever value was returned by the last handler it caused to be executed. If no handlers are triggered, it returns undefined</li>
</ul>

<br />

    $("#foo").trigger("click").addClass("click");

---

# CUSTOM EVENTS

## Why custom?

Focus on the element being acted on and not the element(s), triggering the event.

<ul>
    <li>Target element can easily be triggered by different elements using the same code.</li>
    <li>Events can be triggered across multiple, similar, target elements at once.</li>
    <li>Events are associated with the target element in code, making code easier to read and maintain.</li>
</ul>

---

# CUSTOM EVENTS

    <div class="target unselected">

        <div class="selector"></div>

    </div>
    
    <div class="target unselected">

        <div class="selector"></div>

    </div>
    
    <div id="toggle_all"></div>

---

# CUSTOM EVENTS

Custom events on target element:
    
    $(".target").on("selectorToggle", function(event) {
        
        if ($(this).hasClass("selected")) {

            $(this).trigger("unselect");

        } else {

            $(this).trigger("select");
        }

    }).on("select", function(event) {

        $(this).removeClass("unselected").addClass("selected");

    }).on( "unselect", function(event) {

        $(this).removeClass("selected").addClass("unselected");

    });

---

# CUSTOM EVENTS
 
Trigger custom event on parent:

    $(".selector").click(function() {

        $(this).parent().trigger("selectorToggle");

    });

---

# CUSTOM EVENTS

Trigger custom event on all elements:

    $("#toggle_all").click(function() {

        if ($(".target.selected").length) {

            $(".target").trigger("unselect");

        } else {

            $(".target").trigger("select");

        }

    });

---

# EVENT OBJECT

## The event object is sent into the jQuery event.handler. 

---

# EVENT OBJECT

## The event object is sent into the jQuery event.handler. 

event.preventDefault();

    <a href="#">LINK</a>

---

# EVENT OBJECT

## The event object is sent into the jQuery event.handler. 

event.preventDefault();

    <a href="#">LINK</a>

<br />

    $("a").click(function(event){

        // Prevent the link from being followed
        event.preventDefault();

        ... DO SOMETHING
    })

---

# EVENT OBJECT

event.target and event.currentTarget

---

# EVENT OBJECT

event.target and event.currentTarget

currentTarget: Current DOM element within the event bubbling phase. "this"

---

# EVENT OBJECT

event.target and event.currentTarget

currentTarget: Current DOM element within the event bubbling phase. "this"

target: The element that is registered for the event or a descendant of it.

---

# EVENT OBJECT

event.target and event.currentTarget

currentTarget: Current DOM element within the event bubbling phase. "this"

target: The element that is registered for the event or a descendant of it.

<br />

    <div>
        <a href="#">
            <span></span>
        </a>
    </div>

---

# EVENT OBJECT

event.target and event.currentTarget

currentTarget: Current DOM element within the event bubbling phase. "this"

target: The element that is registered for the event or a descendant of it.

<br />

    <div>
        <a href="#">
            <span></span>
        </a>
    </div>

<br />

    $("div").click(function(event){ 

        console.log(event.currentTarget, event.target);

    });

---

# EVENT OBJECT

event.stopPropagation()

Prevents the event from bubbling up the DOM tree, preventing any parent handlers from being notified of the event.

---

# EVENT OBJECT

event.stopPropagation()

Prevents the event from bubbling up the DOM tree, preventing any parent handlers from being notified of the event.

    <div>
        <a href="#">
            <span></span>
        </a>
    </div>

---

# EVENT OBJECT

event.stopPropagation()

Prevents the event from bubbling up the DOM tree, preventing any parent handlers from being notified of the event.

    <div>
        <a href="#">
            <span></span>
        </a>
    </div>

<br />

    $("span").click(function(event){

        event.stopPropagation();
        ... DO SOMETHING

    })

    $("div").click(function(event){ 
        console.log(event.currentTarget, event.target);
    });

---

# EVENT OBJECT

event.data

An optional object of data passed to an event method when the current executing handler is bound.
    
---

# EVENT OBJECT

event.data

An optional object of data passed to an event method when the current executing handler is bound.

    $("a").on("click", "My DATA", function(event){

        console.log(event.data); // My DATA

    })
    
---

# EVENT OBJECT

event.data

An optional object of data passed to an event method when the current executing handler is bound.

    $("a").on("click", "My DATA", function(event){

        console.log(event.data); // My DATA

    })
    
<br />

http://api.jquery.com/category/events/

---

# Continuous Events

Some events can fire tens or hundreds of times in a short period.

---

# Continuous Events

Some events can fire tens or hundreds of times in a short period.

    $(window).resize(function(){

        ... DO SOMETHING

    });

---

# Continuous Events

Some events can fire tens or hundreds of times in a short period.

    $(window).resize(function(){

        ... DO SOMETHING

    });

<br />

setTimeout:

    $(window).resize(function(){

        clearTimeout(timer);
        
        timer = setTimeout(function () {
            
            ... DO SOMETHING.

        }, 300);

    });

---

# Continuous Events

requestAnimationFrame:

    $(window).resize(function(){

        requestAnimationFrame(doSomething);

    });

    function doSomething(){

        ...DO SOMETHING.

    }

---

# TOUCH EVENTS

## jQuery does not support, touch events.

jQuery Mobile does:

http://jquerymobile.com/demos/1.2.1/docs/api/events.html

---
# Get and Set

## Getting and setting values, attributes and properties with jQuery

---
# Get and Set

## Getting and setting values, attributes and properties with jQuery

.val(): Get the current value of the first element in the set of matched elements or set the value of every matched element.

---
# Get and Set

## Getting and setting values, attributes and properties with jQuery

.val(): Get the current value of the first element in the set of matched elements or set the value of every matched element.

.attr(): Get the value of an attribute for the first element in the set of matched elements or set one or more attributes for every matched element.

---
# Get and Set

## Getting and setting values, attributes and properties with jQuery

.val(): Get the current value of the first element in the set of matched elements or set the value of every matched element.

.attr(): Get the value of an attribute for the first element in the set of matched elements or set one or more attributes for every matched element.

.prop(): Get the value of a property for the first element in the set of matched elements or set one or more properties for every matched element.

---

# VAL()

    <input value="Default Text">

---

# VAL()

    <input value="Default Text">

<br>

    var myVal = $("input").val(); // "Defaul Text"

---

# VAL()

    <input value="Default Text">

<br>

    var myVal = $("input").val(); // "Defaul Text"

<br>

    $("input").val("New Text");

    var myVal = $("input").val(); // "New Text"

---

# Attr()

    <input id="myInput" data-foobar="foo" value="Default Text">

---

# Attr()

    <input id="myInput" data-foobar="foo" value="Default Text">

<br>

    var myAttr = $("input").attr("data-foobar"); // foo

---

# Attr()

    <input id="myInput" data-foobar="foo" value="Default Text">

<br>

    var myAttr = $("input").attr("data-foobar"); // foo

<br>

    $("input").attr("data-foobar", "bar");

    var myAttr = $("input").attr("data-foobar"); // bar

---

# PROP()

<ul>
    <li>.prop() method provides a way to explicitly retrieve property values, while .attr() retrieves attributes.</li>
</ul>

---

# PROP()

<ul>
    <li>.prop() method provides a way to explicitly retrieve property values, while .attr() retrieves attributes.</li>
</ul>

    <input type="checkbox" checked="checked">

---

# PROP()

<ul>
    <li>.prop() method provides a way to explicitly retrieve property values, while .attr() retrieves attributes.</li>
</ul>

    <input type="checkbox" checked="checked">

<br>

    $("input").change(function() {

        var myAttr = $input.attr("checked"); // Checked
        
        var myProp = $input.prop("checked"); // Boolean value

    })

---

# CSS

    <div class="myDiv">My Content</div>

---

# CSS

    <div class="myDiv">My Content</div>

<br>

    $("div.myDiv").css("color", "red");

---

# CSS

    <div class="myDiv">My Content</div>

<br>

    $("div.myDiv").css("color", "red");

    $("div.myDiv")
        .css({
            "color" : "red", 
            "border" : "1px solid pink", 
            "width" : "100px", 
            "height" : "200px" 
        });



    </textarea>
    <script src="http://gnab.github.com/remark/downloads/remark-0.5.3.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var hljs = remark.highlighter.engine;
    </script>
    <script src="js/remark.language.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var slideshow = remark.create({
          highlightStyle: 'solarized_light',
          highlightLanguage: 'remark'
        }) ;
      var a = [];
      slideshow.addListener("slidein",function(b,c){if(a.indexOf(c)>-1)return;var d=$(b);d.find("p:empty").remove(),d.find(".front-page").length===0&&d.find("h1").wrapInner("<span>"),d.find(".pushed img").parent().wrapInner("<span class='img'>"),a.push(c)})
    </script>
  </body>
</html>
